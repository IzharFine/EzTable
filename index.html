<html>
    <head>
        <script type="module">
            import { EzTableGenerator } from "./js/eztablegenerator.js";
            window["EzTableGenerator"] = EzTableGenerator;
        </script>
        <link href="css/eztable.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <table id="eztable">
            <thead>
                <tr>
                    <th>Full Name</th>
                    <th>Birthday</th>
                    <th>Gender</th>
                    <th>Active</th>
                </tr>
            </thead>
            <tbody>
                <tr data-id="1">
                    <td>Izhar Fine</td>
                    <td>1990-03-11</td>
                    <td>1</td>
                    <td>1</td>
                </tr>   
                <tr data-id="2">
                    <td>Moran Fine</td>
                    <td>1985-03-18</td>
                    <td>2</td>
                    <td>1</td>
                </tr>
                <tr data-id="3">
                    <td>Moshe Cohen</td>
                    <td>1989-05-03</td>
                    <td>1</td>
                    <td>0</td>
                </tr>
            </tbody>
        </table>
    </body>
</html>
<script>
    document.addEventListener('DOMContentLoaded',()=>{
        let prop = '[{"TableName":"EzTable","AddCallBack":"addCallBack","UpdateCallBack":"updateCallBack","DeleteCallBack":"deleteCallBack","RowsInPage":10,"EnableSearch":true,"Sortable":true,"Template":""}]';
        let struct = '[{"PHName":"","Type":"Text","Disabled":false,"SelectName":""},{"PHName":"","Type":"Date","Disabled":false,"SelectName":""},{"PHName":"","Type":"Select","Disabled":false,"SelectName":"Genders"},{"PHName":"","Type":"Checkbox","Disabled":false,"SelectName":""}]';
        let selects = '[{"Name":"Genders","Options":[{"Value":"1","Desc":"Male"},{"Value":"2","Desc":"Female"}]}]';
        let ezTable = new EzTableGenerator();
        ezTable.Properties = JSON.parse(prop);
        ezTable.TableStruct = JSON.parse(struct);
        ezTable.Selects = JSON.parse(selects);
        ezTable.buildTable('#eztable','body');
    });

    function addCallBack(a,b){
        console.log(a);
        console.log(b);
    }

    function updateCallBack(a,b,c,d,e){
        console.log(a);
        console.log(b);
        console.log(c);
        console.log(d);
        console.log(e);
    }

    function deleteCallBack(a,b){
        console.log(a);
        console.log(b);
    }
</script>
